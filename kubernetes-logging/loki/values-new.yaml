deploymentMode: SingleBinary

loki:
  auth_enabled: false
  commonConfig:
    replication_factor: 1
  storage:
    bucketNames:
      chunks: cherstvyy
      ruler: cherstvyy
    s3:
      endpoint: storage.yandexcloud.net
      region: ru-central1
      secretAccessKey: secret
      accessKeyId: key
      s3ForcePathStyle: true
  schemaConfig:
    configs:
      - from: "2024-04-01"
        store: tsdb
        object_store: s3
        schema: v13
        index:
          prefix: loki_index_
          period: 24h

lokiCanary:
  nodeSelector:
    components: infra
  tolerations:
    - key: "node-role"
      operator: "Equal"
      value: "infra"
      effect: "NoSchedule"

gateway:
  nodeSelector:
    components: infra
  tolerations:
    - key: "node-role"
      operator: "Equal"
      value: "infra"
      effect: "NoSchedule"

singleBinary:
  replicas: 1
  nodeSelector:
    components: infra
  tolerations:
    - key: "node-role"
      operator: "Equal"
      value: "infra"
      effect: "NoSchedule"

write:
  replicas: 0

read:
  replicas: 0

backend:
  replicas: 0

resultsCache:
  nodeSelector:
    components: infra
  tolerations:
    - key: "node-role"
      operator: "Equal"
      value: "infra"
      effect: "NoSchedule"

chunksCache:
  allocatedMemory: 2048
  nodeSelector:
    components: infra
  tolerations:
    - key: "node-role"
      operator: "Equal"
      value: "infra"
      effect: "NoSchedule"